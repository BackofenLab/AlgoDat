\subsection{AVL-Trees}

\begin{frame}{Balanced Trees}{AVL-Tree}
  \textbf{AVL-Tree:}
  \begin{itemize}
    \item<2->
      Gregory Maximovich \textbf{A}delson-\textbf{V}elskii, Yevgeniy Mikhailovlovich \textbf{L}andis (1963)
    \item<3->
      Search tree with modified \texttt{\color{Mittel-Blau}insert} and
      \texttt{\color{Mittel-Blau}remove} operations while satisfying
      a {\color{Mittel-Blau}depth} condition
    \item<4->
      Prevents degeneration of the search tree
    \item<5->
      Height difference of left and right subtree is at maximum one
    \item<6->
      With that the height of the search tree is always
      ${\color{Mittel-Blau}O(\log n)}$
    \item<7->
      We can perform all basic operations in
      ${\color{Mittel-Blau}O(\log n)}$
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Balanced Trees}{AVL-Tree}
  \begin{figure}
    \begin{adjustbox}{width=0.75\linewidth}
      \input{Images/AVL-Tree/AVL-Tree_Example1.tikz}
    \end{adjustbox}
    \caption{Example of an AVL-Tree}
    \label{fig:balanced_trees:avl_tree_example1}
  \end{figure}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Balanced Trees}{AVL-Tree}
  \begin{figure}
    \begin{adjustbox}{width=0.75\linewidth}
      \input{Images/AVL-Tree/AVL-Tree_Example2.tikz}
    \end{adjustbox}
    \caption{\textbf{Not} an AVL-Tree}
    \label{fig:balanced_trees:avl_tree_example2}
  \end{figure}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Balanced Trees}{AVL-Tree}
  \begin{figure}
    \begin{adjustbox}{width=0.75\linewidth}
      \input{Images/AVL-Tree/AVL-Tree_Example3.tikz}
    \end{adjustbox}
    \caption{Another example of an AVL-Tree}
    \label{fig:balanced_trees:avl_tree_example3}
  \end{figure}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Balanced Trees}{AVL-Tree - Rebalancing}
  \textbf{Rotation:}
     \vspace{-2.5em}
   \begin{columns}
    \begin{column}{0.35\linewidth}
      \begin{figure}
        \begin{adjustbox}{width=\linewidth}
          \input{Images/AVL-Tree/AVL-Tree_RotateA.tikz}
        \end{adjustbox}
        \vspace{-2.0em}
        \caption{Before rotating}
        \label{fig:balanced_trees:avl_tree_rotate_1}
      \end{figure}
    \end{column}
    \begin{column}{0.1\linewidth}
      \begin{center}
        $\Rightarrow$
      \end{center}
    \end{column}
    \begin{column}{0.35\linewidth}
      \begin{figure}
        \begin{adjustbox}{width=\linewidth}
          \input{Images/AVL-Tree/AVL-Tree_RotateB.tikz}
        \end{adjustbox}
        \vspace{-2.0em}
        \caption{After rotating}
        \label{fig:balanced_trees:avl_tree_rotate_2}
      \end{figure}
    \end{column}
   \end{columns}
  \begin{itemize}
    \item<2->
      Central operation of {\color{Mittel-Blau}rebalancing}
    \item<3->
      After rotation to the right:
      \begin{itemize}
        \item<4->
          Subtree {\color{Mittel-Blau}$A$} is a layer higher and subtree
          {\color{Mittel-Blau}$C$} a layer lower
        \item<5->
          The parent child relations between nodes {\color{Mittel-Blau}$x$} and
          {\color{Mittel-Blau}$y$} have been swapped
      \end{itemize}
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Balanced Trees}{AVL-Tree - Rebalancing}
  \textbf{AVL-Tree:}
  \begin{itemize}
    \item<2->
      If a height difference of $\pm 2$ occurs on an
      \texttt{\color{Mittel-Blau}insert} or
      \texttt{\color{Mittel-Blau}remove} operation the tree is rebalanced
    \item<3->
      Many different cases of rebalancing
    \item<4->
      \textbf{Example:}
      \texttt{\color{Mittel-Blau}insert} of $1,2,3,\dotsc$
    \item<5-> \href{http://people.ksp.sk/~kuko/bak}{\color{blue}{\url{http://people.ksp.sk/~kuko/bak}}}
  \end{itemize}
  \onslide<6->
  \begin{figure}
    \includegraphics[width=0.5\linewidth]
      {Images/AVL-Tree/AVL-Tree_Insert1To10.png}
    \caption{Inserting $1,\dots,10$ into an AVL-tree~\cite{gnarley_trees}}
    \label{fig:balanced_trees:avl_tree_example4}
  \end{figure}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Balanced Trees}{AVL-Tree - Summary}
  \textbf{Summary:}
  \begin{itemize}
    \item<2->
      Historical the first search tree providing guaranteed
      \texttt{\color{Mittel-Blau}insert}, \texttt{\color{Mittel-Blau}remove}
      and \texttt{\color{Mittel-Blau}lookup} in
      ${\color{Mittel-Blau}O(\log n)}$
    \item<3->
      However not amortized update costs of {\color{Mittel-Blau}$O(1)$}
    \item<4->
      Additional memory costs:
      We have to save a height difference for every node
    \item<5->
      Better (and easier) to implement are {\color{Mittel-Blau}(a,b)}-trees
  \end{itemize}
\end{frame}
