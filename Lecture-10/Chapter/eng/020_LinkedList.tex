\section{Linked Lists}

\begin{frame}{Linked Lists}{Introduction}
  \textbf{Linked list:}
  \begin{itemize}
    \item<2->
      Dynamic datastructure
    \item<3->
      Number of elements changeable
    \item<4->
      Data elements can be simple types or composed data structures
    \item<5->
      {\color{MainA}Elements are linked} through references / pointer
      to the predecessor / successor
    \item<6->
      Single / doubly linked lists possible
  \end{itemize}
  \onslide<7->
  \begin{figure}
    \input{Images/LinkedList/SinglyLinkedListIntroduction.tikz}
    \caption{Linked list}
    \label{fig:linked_list:singly_linked_list}
  \end{figure}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Introduction}
  \textbf{Properties in comparison to an array:}
  \begin{itemize}
    \item<2->
      Minimal extra space for storing pointer
    \item<3->
      We do not need to copy elements on {\color{Mittel-Blau}\texttt{insert}}
      or {\color{Mittel-Blau}\texttt{remove}}
    \item<4->
      The number of elements can be simply modified 
    \item<5->
      No direct access of elements\\
      $\Rightarrow$ We have to iterate over the list
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Variants}
  \textbf{List with head / last element pointer:}
   \onslide<2->
  \begin{figure}
    \input{Images/LinkedList/SinglyLinkedListWithHead.tikz}
    \caption{Singly linked list}
    \label{fig:linked_list:variation:singly_linked_list_with_head}
  \end{figure}
  \begin{itemize}
    \item<3->
      Head element has pointer to first list element
    \item<4->
      May also hold additional information:
      \begin{itemize}
        \item<5->
          Number of elements
      \end{itemize}
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Variants}
  \textbf{Doubly linked list:}
  \onslide<2->
    \begin{figure}
    \input{Images/LinkedList/DoublyLinkedList.tikz}
    \caption{Doubly linked list}
    \label{fig:linked_list:variation:doubly_linked_list}
  \end{figure}
  \begin{itemize}
    \item<3->
      Pointer to successor element
    \item<4->
      Pointer to predecessor element
    \item<5->
      Iterate forward and backward
  \end{itemize}
\end{frame}


%-------------------------------------------------------------------------------

\codeslide{java}{
\begin{frame}{Linked Lists}{Implementation - Node/Element - Java}
  \small{
  \lstinputlisting[
    language=Java,
    tabsize=4,
    style={java-eclipse-code},
    breaklines=false,
    mathescape=true,
    escapechar={@},
    emph={value, next},
    emphstyle=\color{java_static}
  ]{Code/LinkedList/NodePart1new.java}}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Node/Element - Java}
  \vspace{-1.125em}
  \lstinputlisting[
    language=Java,
    tabsize=4,
    style={java-eclipse-code},
    breaklines=false,
    mathescape=true,
    escapechar={@},
    emph={value, next},
    emphstyle=\color{java_static}
  ]{Code/LinkedList/NodePart2new.java}
\end{frame}

%-------------------------------------------------------------------------------

%% \begin{frame}[fragile]{Linked Lists}{Implementation - Node - Java}
%%   \lstinputlisting[
%%     language=Java,
%%     tabsize=4,
%%     style={java-eclipse-code},
%%     breaklines=false,
%%     mathescape=true,
%%     escapechar={@},
%%     emph={value, next},
%%     emphstyle=\color{java_static}
%%   ]{Code/LinkedList/NodePart3.java}
%% \end{frame}
}

%-------------------------------------------------------------------------------

\codeslide{cpp}{
%% \begin{frame}[fragile]{Linked Lists}{Implementation - Node/Element - C++ - Header}
%%   \vspace{-1.125em}
%%   \lstinputlisting[
%%     language=C++,
%%     tabsize=4,
%%     style={cpp-eclipse-code},
%%     breaklines=false,
%%     escapechar={@}
%%   ]{Code/LinkedList/Node.h}
%% \end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Node/Element - C++}
  \lstinputlisting[
    language=C++,
    tabsize=4,
    style={cpp-eclipse-code},
    breaklines=false,
    escapechar={@}
  ]{Code/LinkedList/NodePart1new.cpp}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Node/Element - C++}
  \lstinputlisting[
    language=C++,
    tabsize=4,
    style={cpp-eclipse-code},
    breaklines=false,
    escapechar={@}
  ]{Code/LinkedList/NodePart2new.cpp}
\end{frame}
}

%-------------------------------------------------------------------------------

\codeslide{python}{
\begin{frame}{Linked Lists}{Implementation - Node/Element - Python}
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    escapechar={@},
    morekeywords={None},
    emph={Node, __init__},
    emphstyle=\color{blue}
  ]{Code/LinkedList/Node.py}
\end{frame}
}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Usage examples}
  \textbf{Creating linked lists  - Python:}
  \begin{itemize}
    \item<2->
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|first = Node(7)|
      \begin{flushleft}
        \input{Images/LinkedList/SinglyLinkedListCreate_First.tikz}
      \end{flushleft}
      \vspace{0.5em}
    \item<3->
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|first.nextNode = Node(3)|
      \begin{flushleft}
        \input{Images/LinkedList/SinglyLinkedListCreate_Second.tikz}
      \end{flushleft}
      \vspace{0.5em}
    \item<4->
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|first.nextNode.value = 4|
      \begin{flushleft}
        \input{Images/LinkedList/SinglyLinkedListCreate_Third.tikz}
      \end{flushleft}
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Insert}
  \textbf{Inserting a node after node \texttt{cur}:}
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListInsert_First.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Insert}
  \textbf{Inserting a node after node \texttt{cur}:}
  \begin{itemize}
    \item<2->
      \lstinline[
      language=Python,
      style={python-idle-code}
      ]|ins = Node(n)|
  \end{itemize}
  \onslide<3->
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListInsert_Second.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Insert}
  \textbf{Inserting a node after node \texttt{cur}:}
  \begin{itemize}
    \item
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|ins.nextNode = cur.nextNode|
  \end{itemize}
  \onslide<2->
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListInsert_Third.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Insert}
  \textbf{Inserting a node after node \texttt{cur}:}
  \begin{itemize}
    \item
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|cur.nextNode = ins|
  \end{itemize}
  \onslide<2->
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListInsert_Fourth.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Insert}
  \textbf{Inserting a node after node \texttt{cur} - single line of code:}
  \onslide<2->
  \begin{center}
    \begin{adjustbox}{width=0.8\linewidth}
      \input{Images/LinkedList/SinglyLinkedListInsert_OneLine_Before.tikz}
    \end{adjustbox}
  \end{center}
  \begin{itemize}
    \item<3->
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|cur.nextNode = Node(value, cur.nextNode)|
  \end{itemize}
  \onslide<4->
  \begin{center}
    \begin{adjustbox}{width=0.8\linewidth}
      \input{Images/LinkedList/SinglyLinkedListInsert_OneLine_After.tikz}
    \end{adjustbox}
  \end{center}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Remove}
  \textbf{Removing a node \texttt{cur}:}
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListRemove_First.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Remove}
  \textbf{Removing a node \texttt{cur}:}
  \begin{itemize}
    \item<2->
      Find the predecessor of \texttt{cur}:\\
      \lstinputlisting[
        language=Python,
        tabsize=4,
        style={python-idle-code},
        escapechar={@},
        emphstyle=\color{blue}
      ]{Code/LinkedList/RemoveStep1.py}
    \item<3->
      Runtime of $O(n)$
    \item<4->
      Does not work for first node!
  \end{itemize}
  \vspace{-1.5em}
  \onslide<5->
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListRemove_Second.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Remove}
  \textbf{Removing a node \texttt{cur}:}
  \begin{itemize}
    \item<2->
      Update the pointer to the next element:\\
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|pre.nextNode = cur.nextNode|
    \item<3->
      \texttt{cur} will get automatically destroyed if no more references exist
      (\lstinline[
        language=Python,
        style={python-idle-code},
        morekeywords={None}
      ]|cur=None|)
  \end{itemize}
  \onslide<4->
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListRemove_Third.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

%% \begin{frame}{Linked Lists}{Implementation - Remove}
%%   \textbf{Removing the first node:}
%%   \begin{flushleft}
%%     \input{Images/LinkedList/SinglyLinkedListRemoveFirst_First.tikz}
%%   \end{flushleft}
%% \end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Remove}
  \textbf{Removing the first node:}
  \vspace{-1.0em}
  \onslide<2->
  \begin{flushright}
    \input{Images/LinkedList/SinglyLinkedListRemoveFirst_First.tikz}
  \end{flushright}
  \begin{itemize}
    \item<3->
      Update the pointer to the next element:\\
      \lstinline[
        language=Python,
        style={python-idle-code}
      ]|first = first.nextNode|
    \item<4->
      \texttt{cur} will get automaticly destroyed if no more references exist
      (\lstinline[
        language=Python,
        style={python-idle-code},
        morekeywords={None}
      ]|cur=None|)
  \end{itemize}
  \onslide<5->
  \begin{flushright}
    \input{Images/LinkedList/SinglyLinkedListRemoveFirst_Second.tikz}
  \end{flushright}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]{Linked Lists}{Implementation - Remove}
  \textbf{Removing a node \texttt{cur}:} (General case)
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    escapechar={@},
    emphstyle=\color{blue}
  ]{Code/LinkedList/Remove.py}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Head Node}
  \textbf{Using a \texttt{head} node:}
  \begin{itemize}
  \item<2->Advantage:
    \begin{itemize}
    \item<3->
      Deleting the first node is no special case
    \end{itemize}
  \item<4->Disadvantage
    \begin{itemize}
    \item<4->
      We have to consider the first node at other operations
    \item<5->
      Iterating all nodes
    \item<5->
      Counting of all nodes
    \item<6->
      $\dots$
    \end{itemize}
  \end{itemize}
  \onslide<7->
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListWithHead.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\codeslide{python}{
\begin{frame}{Linked Lists}{Implementation - LinkedList - Python}
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    escapechar={@},
    emph={LinkedList, __init__},
    emphstyle=\color{blue}
  ]{Code/LinkedList/LinkedListPart1.py}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - LinkedList - Python}
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    escapechar={@},
    emphstyle=\color{blue}
  ]{Code/LinkedList/LinkedListPart2.py}
\end{frame}
}

%-------------------------------------------------------------------------------

\codeslide{java}{
\begin{frame}[fragile]{Linked Lists}{Implementation - LinkedList - Java}
  \vspace{-1.125em}
  \lstinputlisting[
    language=Java,
    tabsize=4,
    style={java-eclipse-code},
    breaklines=false,
    mathescape=true,
    emph={itemCount, head, last},
    emphstyle=\color{java_static}
  ]{Code/LinkedList/LinkedListPart1.java}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]{Linked Lists}{Implementation - LinkedList - Java}
  \vspace{-0.5em}
  \lstinputlisting[
    language=Java,
    tabsize=4,
    style={java-eclipse-code},
    breaklines=false,
    mathescape=true,
    escapechar={@},
    emph={itemCount, head, last},
    emphstyle=\color{java_static}
  ]{Code/LinkedList/LinkedListPart2.java}
\end{frame}
}

%-------------------------------------------------------------------------------

%% \begin{frame}[fragile]{Linked Lists}{Implementation - LinkedList - C++ - Header}
%%   \lstinputlisting[
%%     language=C++,
%%     tabsize=4,
%%     style={cpp-eclipse-code},
%%     breaklines=false,
%%     escapechar={@},
%%     emph={uint64_t},
%%     emphstyle=\color{cpp_typedef}
%%   ]{Code/LinkedList/LinkedListPart1.h}
%% \end{frame}

%% %-------------------------------------------------------------------------------

%% \begin{frame}[fragile]{Linked Lists}{Implementation - LinkedList - C++ - Header}
%%   \lstinputlisting[
%%     language=C++,
%%     tabsize=4,
%%     style={cpp-eclipse-code},
%%     breaklines=false,
%%     escapechar={@},
%%     emph={uint64_t},
%%     emphstyle=\color{cpp_typedef}
%%   ]{Code/LinkedList/LinkedListPart2.h}
%% \end{frame}

%% %-------------------------------------------------------------------------------

%% \begin{frame}[fragile]{Linked Lists}{Implementation - LinkedList - C++}
%%   \vspace{-1.25em}
%%   \lstinputlisting[
%%     language=C++,
%%     tabsize=4,
%%     style={cpp-eclipse-code},
%%     breaklines=false,
%%     escapechar={@},
%%     emph={uint64_t},
%%     emphstyle=\color{cpp_typedef}
%%   ]{Code/LinkedList/LinkedList.cpp}
%% \end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation}
  \textbf{Head, last:}
  \onslide<2->
    \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListWithHead.tikz}
  \end{flushleft}
  \begin{itemize}
    \item<3->
      \texttt{Head} points to the first node, \texttt{last} to the last node
    \item<4->
      We can append elements to the end of the list in $O(1)$ through
      the \texttt{last} node
    \item<5->
      We have to keep the pointer to \texttt{last} updated after all operations
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]{Linked Lists}{Implementation - Append}
  \textbf{Appending an element:}
  \vspace{-1.0em}
  \onslide<2->
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListWithHeadAppend.tikz}
  \end{flushleft}
  \vspace{-0.5em}
  \onslide<3->
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    breaklines=false,
    escapechar={@},
    emph={append},
    emphstyle=\color{blue}
  ]{Code/LinkedList/LinkedListAppend.py}
  \begin{itemize}
    \item<4->
      The pointer to \texttt{last} avoids the iteration of the whole list
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Insert After}
  \textbf{Inserting after node \texttt{cur}:}
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListWithHeadInsertAfter.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]{Linked Lists}{Implementation - Insert After}
  \textbf{Inserting after node \texttt{cur}:}
  \begin{itemize}
    \item
      The pointer to \texttt{head} is not modified
  \end{itemize}
  \onslide<2->
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    breaklines=false,
    escapechar={@},
    emph={insertAfter},
    emphstyle=\color{blue}
  ]{Code/LinkedList/LinkedListInsertAfter.py}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Implementation - Remove}
  \textbf{Remove node \texttt{cur}:}
  \begin{flushleft}
    \input{Images/LinkedList/SinglyLinkedListWithHeadRemove.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------


\begin{frame}[fragile]{Linked Lists}{Implementation - Remove}
  \textbf{Remove node \texttt{cur}:}
  \begin{itemize}
    \item
      Searching the predecessor in $O(n)$
  \end{itemize}
  \onslide<2->
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    breaklines=false,
    escapechar={@},
    emph={remove},
    emphstyle=\color{blue},
    morekeywords={None}
  ]{Code/LinkedList/LinkedListRemove.py}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]{Linked Lists}{Implementation - Get}
  \textbf{Getting a reference to node at \texttt{pos}:}
  \begin{itemize}
    \item
      Iterate the entries of the list until at position in $O(n)$
  \end{itemize}
  \onslide<2->
  \lstinputlisting[
    language=Python,
    tabsize=4,
    style={python-idle-code},
    breaklines=false,
    escapechar={@},
    emph={get},
    emphstyle=\color{blue},
    morekeywords={None}
  ]{Code/LinkedList/LinkedListGet.py}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]{Linked Lists}{Implementation - Contains}
  \textbf{Searching a \texttt{value}:}
  \begin{itemize}
    \item<2->
      First element is head without an assigned value
    \item<3->
      Iterate the entries of the list until value found in $O(n)$
    \onslide<4->
      \lstinputlisting[
        language=Python,
        tabsize=4,
        style={python-idle-code},
        breaklines=false,
        escapechar={@},
        emph={contains},
        emphstyle=\color{blue},
        morekeywords={None}
      ]{Code/LinkedList/LinkedListContains.py}
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Runtime}
  \textbf{Runtime:}
  \begin{itemize}
    \item<2->
      Singly linked list:
      \begin{itemize}
        \item<3-> {\color{Mittel-Blau}\texttt{next}} in $O(1)$
        \item<4-> {\color{Mittel-Blau}\texttt{previous}} in $\Theta(n)$
        \item<5-> {\color{Mittel-Blau}\texttt{insert}} in $O(1)$
        \item<6-> {\color{Mittel-Blau}\texttt{remove}} in $\Theta(n)$
        \item<7-> {\color{Mittel-Blau}\texttt{lookup}} in $\Theta(n)$
      \end{itemize}
    \item<8->
      Better with {\color{Mittel-Blau}doubly linked lists}
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Doubly Linked List}
  \textbf{Doubly linked list:}
  \begin{itemize}
    \item<2->
      Each node has a reference to its successor and its
      {\color{Mittel-Blau}predecessor}
    \item<3->
      We can iterate the list forward and backward
  \end{itemize}
  \onslide<4->
  \begin{flushleft}
    \input{Images/LinkedList/DoublyLinkedList.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Doubly Linked List}
  \textbf{Doubly linked list:}
  \begin{itemize}
    \item<2->
      It is helpful to have a {\color{Mittel-Blau}head} node
    \item<3->
      We only need {\color{Mittel-Blau}one head} node if we connect the list
      cyclic
  \end{itemize}
  \onslide<4->
  \begin{flushleft}
    \input{Images/LinkedList/DoublyLinkedListWithHeadCyclicIntroduction.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{Runtime}
  \textbf{Runtime of doubly linked list:}
  \begin{itemize}
    \item<2->
      {\color{Mittel-Blau}\texttt{next}} and
      {\color{Mittel-Blau}\texttt{previous}} in $O(1)$\\[0.5em]
      \onslide<3->{
        Each element has a pointer to pred-/sucessor
      }
      \vspace{1em}
    \item<4->
      {\color{Mittel-Blau}\texttt{insert}} and
      {\color{Mittel-Blau}\texttt{remove}} in $O(1)$\\[0.5em]
      \onslide<5->{
        A constant number of pointers needs to be modified
      }
      \vspace{1em}
    \item<6->
      {\color{Mittel-Blau}\texttt{lookup}} in $\Theta(n)$\\[0.5em]
      \onslide<7->{
        Even if the elements are sorted we can only retrieve them in $\Theta(n)$
       }
       \onslide<8->{\hspace{1.5em}\color{MainA}Why?}
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{List in real program}
  \textbf{Linked list in book:}
  \vspace{-1.5em}
  \begin{flushleft}
    \input{Images/LinkedList/DoublyLinkedListWithHeadCyclic.tikz}
  \end{flushleft}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Linked Lists}{List in real program}
  \textbf{Linked list in memory:}
  \vspace{-1.5em}
  \begin{flushleft}
    \input{Images/LinkedList/DoublyLinkedListWithHeadCyclicMemory.tikz}
  \end{flushleft}
\end{frame}
