\subsection{Examples}

\begin{frame}{Universal Hashing}{Examples}
  \textbf{Negative example:}
  \begin{itemize}
    \item<2->
      The set of all {\color{Mittel-Blau}$h$} for which {\color{Mittel-Blau}$h_a(x) = (a \cdot x) \mod m$, for a $a \in \mathbb{U}$}
    \item<3->
      Is not {\color{Mittel-Blau}$c$}-universal. Why?
    \item<4->
      If universal:
       {\color{Mittel-Blau}
      \begin{displaymath}
        \forall x, y \hspace{1em} x \neq y\!: \; \frac{
          \vert \{h \in \mathbb{H}: h(x) = h(y)\} \vert
        }{
          \vert \mathbb{H} \vert
        } \leq c \cdot \frac{1}{m}
       \end{displaymath}}
    \vspace{-1em}
    \item<5->
      Which {\color{Mittel-Blau}$x, y$} lead to a relative collision count bigger than {\color{Mittel-Blau}$\frac{c}{m}$}?
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Universal Hashing}{Examples}
  \textbf{Positive example:}
  \begin{itemize}
    \item<1->
      Let {\color{Mittel-Blau}$p$} be a big prime number, {\color{Mittel-Blau}$p > m$}, and {\color{Mittel-Blau}$p \geq \vert \mathbb{U} \vert$}
    \item<2->
      Let {\color{Mittel-Blau}$\mathbb{H}$} be the set of all {\color{Mittel-Blau}$h$} for which:
      {\color{Mittel-Blau}
      \begin{align*}
        h_{a, b}(x) = ((a \cdot x + b) \mod p) \mod m,\\
        \hspace*{1.5em} \text{{\color{black}where }} 1 \leq a < p, \; 0 \leq b < p
      \end{align*}}
    \item<3-> This is {\color{Mittel-Blau}$\approx1$-universal}, see {\color{teal}Exercise 4.11} in Mehlhorn/Sanders
    \item<4-> E.g.: {\color{Mittel-Blau}$U=\{0,...,99\},$ \hspace{0.5em} $p=101,$ \hspace{0.5em} $a=47,$ $b5$}
   \item<5-> Then {\color{Mittel-Blau}$h(x) = ((47 \cdot x + 5) \mod 101) \mod m$}
   \item<6-> Easy to implement but hard to proof
   \item<7-> Exercise: show empirically that it is {\color{Mittel-Blau}$2$}-universal
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Universal Hashing}{Examples}
  \textbf{Positive example:}
  \begin{itemize}
    \item<1->
      The set of hash functions is {\color{Mittel-Blau}$c$}-universal:
      {\color{Mittel-Blau}
      \[h_{a}(x) = a \bullet x \mod m, \hspace*{1.5em} a \in \mathbb{U}\]}
    \item<2->
      \textbf{We define:}
      {\color{Mittel-Blau}
      \begin{align*}
        a &= \sum_{0, \ldots, k-1} a_i \cdot m^i,
        \hspace*{1.5em} k = \mathrm{ceil}(\log_m \vert \mathbb{U} \vert)\\
        x &= \sum_{0, \ldots, k-1} x_i \cdot m^i
      \end{align*}}
    \item<3->
      \textbf{Intuitive}: Scalar product with base {\color{Mittel-Blau}$m$}
      {\color{Mittel-Blau}
      \begin{align*}
        a \bullet x &= \sum_{0, \ldots, k-1} a_i \cdot x_i
      \end{align*}}
  \end{itemize}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Universal Hashing}{Examples}
  \begin{example}[{\color{Mittel-Blau}%
    $\mathbb{U} = \{0, \dots, 999\}, \; m = 10, \; a = 348$}
  ]% 
    With {\color{Mittel-Blau}$a=348$: $a_2 = 3, \; a_1 = 4, \; a_0 = 8$}
    {\color{Mittel-Blau}
    \begin{align*}
      h_{348}(x) &= (a_2 \cdot x_2 + a_1 \cdot x_1 + a_0 \cdot x_0) \mod m\\
      {} &= (3 \, x_2 + 4 \, x_1 + 8 \, x_0) \mod 10
    \end{align*}}
    With {\color{Mittel-Blau}$x = 127$: $x_2 = 1, \; x_1 = 2, \; x_0 = 7$}
    {\color{Mittel-Blau}
    \begin{align*}
      h_{348}(127) &= (3 \cdot x_2 + 4 \cdot x_1 + 8 \cdot x_0) \mod 10\\
      {} &= (3 \cdot 1 + 4 \cdot 2 + 8 \cdot 7) \mod 10\\
      {} &= 7
    \end{align*}}
  \end{example}
\end{frame}
