%%% ===================================================================
%%% RCS Header:
%%% $RCSfile: local.el,v $
%%% $Revision: 1.27 $
%%% $Date: 2014/11/07 15:36:00 $
%%% $Author: backofen $
%%% $Locker:  $
%%% ===================================================================

\subsection{Proof}
\def\E{\mathbb{E}}
\begin{frame}{Universal Hashing}{Proof}
  \textbf{Given:}
  \begin{itemize}
    \item<1->
      We pick two random keys
      {\color{MainA}$x, y \in \mathbb{S} \mid x \neq y$} and
      a random hash function {\color{MainA}$h \in \mathbb{H}$}
    \item<2->
      We know the probability of a collision:
      {\color{MainA}\[P(h(x) = h(y)) \leq c \cdot \frac{1}{m}\]}
  \end{itemize}
  \onslide<3->
  \textbf{To proof:}
  {\color{MainA}\[\E\left[\vert \mathbb{S}_i \vert\right]
    \leq 1 + c \cdot \frac{\vert \mathbb{S} \vert}{m}
    \hspace*{1.5em} \forall \, i\]}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Universal Hashing}{Proof}
  \textbf{We know:}
  {\color{MainA}\[\mathbb{S}_i = \{x \in \mathbb{S}: h(x) = i\}\]}\\
  \onslide<2->{
    If {\color{MainA}$\mathbb{S}_i = \emptyset \Rightarrow
      \vert \mathbb{S}_i \vert = 0$}
  }%
  \onslide<3->{
    otherwise, let {\color{MainA}$x \in \mathbb{S}_i$ be any key}
  }\\[0.5em]
  \onslide<4->
  We define an indicator variable:
  {\color{MainA}
  \begin{displaymath}
    I_y = \begin{cases}
      1, & \text{if } h(y) = i\\
      0, & \text{else}
    \end{cases} \hspace*{1.5em} y \in \mathbb{S} \setminus \{x\}
  \end{displaymath}
  \onslide<5->
  \begin{align*}
    \Rightarrow \hspace{1.5em} \vert \mathbb{S}_i \vert
    & = 1 + \sum_{y \in \mathbb{S} \setminus x} I_y
  \end{align*}
  \onslide<6->
  \begin{align*}
    \Rightarrow \hspace{1.5em} \E\left(\vert \mathbb{S}_i \vert\right)
      & = \E\left(1 + \sum_{y \in \mathbb{S} \setminus x} I_y\right)
        = 1 + \sum_{y \in \mathbb{S} \setminus x} \E(I_y)
  \end{align*}}
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}{Universal Hashing}{Proof}
  \textbf{Auxiliary calculation:}
   {\color{MainA}
     \onslide<1->
     \vspace*{-1.7em}
     \begin{eqnarray*}
       \hspace{6em}           
         \E[I_y] & = & P(I_y = 1)\\
         {} & = & P(h(y) = i)\\
         {} & = & P(h(y) = h(x))\\
         {} & \leq &  c \cdot \frac{1}{m}
   \end{eqnarray*}}
   {\color{MainA}
     \onslide<3->
     \vspace{-0.6em}   
     \begin{alignat*}{3}
\hspace*{-2cm} \text{\textbf{Hence:\quad{}}}        \E\left[\vert \mathbb{S}_i \vert\right]
=1 + \sum_{y \in \mathbb{S} \setminus x}  \E\left[l_y \right]
      &\ \leq\ 1 + \sum_{y \in \mathbb{S} \setminus x} c \cdot \frac{1}{m}\\
     &\onslide<4->\ =\ 1 + \left(\vert \mathbb{S}  \vert - 1\right) \cdot c \cdot \frac{1}{m}\\
     &\onslide<5->\ \leq\ \displaystyle 1 + \vert \mathbb{S} \vert \cdot c \cdot \frac{1}{m}\\
&\onslide<5->\ =\  1 + c \cdot \frac{\vert \mathbb{S} \vert}{m}
&\quad\square
     \end{alignat*}
}
\end{frame}

%%% ===================================================================
%%% This should be at the END of the file !!!!!!
%%%
%%% Local Variables: 
%%% mode: latex 
%%% TeX-master: "~/TeX/TeXinput/Scripts/Algo-Data-EMS/AlgoDat/Lecture-5/Lecture.tex" 
%%% End: 
%%% ===================================================================