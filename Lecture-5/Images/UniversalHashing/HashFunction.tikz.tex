\begin{tikzpicture}[
  body/.style={
    draw=none,
    fill={Mittel-Blau!40!white}
  }, arrow/.style={
    ->,
    draw={Mittel-Blau},
    line width=0.25em
  }, bucket/.style={
    draw=black,
    fill={Hell-Gruen}
  }, key/.style={
    draw=black,
    fill={yellow!80!white}
  }, background rectangle/.style={
    fill=white}
]%
\fill<1->[white] (-8, 0) rectangle (15, 10);
\draw<3->[body] (0, 0) -- (0, 10) -- (3, 7) -- (3, 3) -- (0, 0);

\draw<1-> (-3.0, 5.5) node[anchor=east](x) {\Huge Key universe
  {\color{yellow!50!black}$\mathbb{U}$}};
\draw<4-> (-3.0, 4.5) node[anchor=east](x) {\Huge Used Keys
  {\color{Mittel-Blau}$\mathbb{S}$}};

\draw<2-> (5.0, 5.5) node[anchor=west](x) {\Huge {\color{Mittel-Gruen}T}
  (Hashtable)};
\draw<4-> (5.0, 4.5) node[anchor=west](x) {\Huge {\color{Mittel-Blau}Used buckets}};

%\draw (-2.0, 5.0) node[anchor=east](x) {\Huge $\mathbb{U}$};
%\draw (5.0, 5.0) node[anchor=west](x) {\Huge T};

%\draw (1.5, 10.5) node[color={Mittel-Blau}](x) {\Huge $h_1$};

%%% key universe
\foreach \y in {8,...,-8}{
  \draw<1->[key] 
    (-1.0, 0.5*\y + 5.25) -- (-1.5, 0.5*\y + 5.25) --
    (-1.5, 0.5*\y + 4.75) -- (-1.0, 0.5*\y + 4.75) --
    (-1.0, 0.5*\y + 5.25);
}

%%% now draw arrows
\foreach \i/\o in {
    4.0/-2.0, 3.5/1.0, 3.0/-3.0, 2.5/2.0, 2.0/3.0, 1.5/3.0, 1.0/1.0,
    0.5/2.0, 0.0/-2.0, -0.5/0.0, -1.0/-1.0, -1.5/-1.0, -2.0/-2.0,
    -2.5/-3.0, -3.0/3.0, -3.5/-1.0, -4.0/2.0
  } {
  \draw<3->[arrow]
    (-0.5, \i + 5.0) -- (0.0, \i + 5.0) --
    (3.0, 0.5*\o + 5.0) -- (3.5, 0.5*\o + 5.0);
}

%% now draw the red arrows
\foreach \i/\o in {
    4.0/-2.0, 
    0.5/2.0,  -1.0/-1.0, 
    -3.5/-1.0, -4.0/2.0
  } {
  \draw<4->[arrow,color=red]
    (-0.5, \i + 5.0) -- (0.0, \i + 5.0) --
    (3.0, 0.5*\o + 5.0) -- (3.5, 0.5*\o + 5.0);
}

%%% draw table
\foreach \y in {3.0, 2.0, 1.0, 0.0, -1.0, -2.0, -3.0} {
  \draw<2->[bucket]
    (3.75, 0.5*\y + 5.25) -- (4.25, 0.5*\y + 5.25) --
    (4.25, 0.5*\y + 4.75) -- (3.75, 0.5*\y + 4.75) --
    (3.75, 0.5*\y + 5.25);
}

%%% now color used keys  blue
\foreach \y in {4.0, 0.5,  -1.0, -3.5, -4.0}
{
  \draw<4->[key,fill=Mittel-Blau!40!white] 
    (-1.0, \y + 5.25) -- (-1.5, \y + 5.25) --
    (-1.5, \y + 4.75) -- (-1.0, \y + 4.75) --
    (-1.0, \y + 5.25);
}
%%% draw table
\foreach \y in {-2.0, -1.0, 2.0} {
  \draw<4->[bucket,fill=Mittel-Blau!40!white]
    (3.75, 0.5*\y + 5.25) -- (4.25, 0.5*\y + 5.25) --
    (4.25, 0.5*\y + 4.75) -- (3.75, 0.5*\y + 4.75) --
    (3.75, 0.5*\y + 5.25);
}






\end{tikzpicture}%
